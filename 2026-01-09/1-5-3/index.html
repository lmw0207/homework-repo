<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>í”¼ì ë°°ë‹¬ ì‹œë®¬ë ˆì´ì…˜</h1>
    <script>
      orderPizza("Pepperoni", (err, orderld) => {
        if (err) return handleError(err);

        makeDough(orderld, (err, dough) => {
          if (err) return handleError(err);

          bakePizza(dough, (err, pizza) => {
            if (err) return handleError(err);

            console.log(`${pizza.name} ë°°ë‹¬ ì™„ë£Œ!ğŸ•`);
          });
        });
      });
      // 1ì´ˆ ë’¤ ì„±ê³µí•˜ëŠ” ê°€ì§œ í•¨ìˆ˜
      const orderPizza = (name) =>
        new Promise((resolve) => {
          setTimeout(() => resolve(name), 1000);
        });

      const makeDough = (orderId) =>
        new Promise((resolve) => {
          setTimeout(() => resolve({ dough: true }), 1000);
        });

      const bakePizza = (dough) =>
        new Promise((resolve) => {
          setTimeout(() => resolve({ name: "Pepperoni" }), 1000);
        });
      // async í•¨ìˆ˜ ì„ ì–¸
      async function deliverPizza() {
        try {
          // ì—¬ê¸°ì— ìˆœì„œëŒ€ë¡œ await ì‘ì„±
          // const order = await ...
        } catch (err) {
          console.error("ë°°ë‹¬ ì‹¤íŒ¨!", err);
        }
      }

      // ì‹¤í–‰
      deliverPizza();
    </script>
  </body>
</html>
